{"ast":null,"code":"import _taggedTemplateLiteral from \"/home/vigneshraja/Desktop/movie_app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"/home/vigneshraja/Desktop/movie_app/src/MovieList.js\";\n\nfunction _templateObject() {\n  const data = _taggedTemplateLiteral([\"\\n  padding: 0 3rem;\\n  margin: 0 auto;\\n  justify-content: center;\\n\"]);\n\n  _templateObject = function () {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport styled from \"styled-components\";\nimport Pagination from \"rc-pagination\";\nimport { Row, Col } from \"react-bootstrap\";\nimport \"rc-pagination/assets/index.css\";\nimport { searchMovies } from \"./redux/action\";\nimport Movie from \"./Movie\";\nimport OopsContainer from \"./MovieDetail\";\n\nclass MovieList extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      movies: [],\n      current: 1\n    };\n\n    this.onChange = page => {\n      console.log(page);\n      this.setState({\n        current: page\n      }, () => this.initialloading());\n    };\n  }\n\n  componentWillMount() {\n    console.log(this.props);\n  }\n\n  async initialloading() {\n    try {\n      const res = await fetch(\"http://www.omdbapi.com/?i=tt3896198&apikey=fa281222&s=Batman&page=\".concat(this.state.current));\n      const movies = await res.json();\n      this.setState({\n        movies: movies.Search,\n        totalpages: parseInt(movies.totalResults)\n      });\n    } catch (e) {\n      console.log(e);\n    }\n  } //   async componentDidMount() {\n  //     try {\n  //       const res = await fetch(\n  //         `http://www.omdbapi.com/?i=tt3896198&apikey=fa281222&s=Batman&page=${\n  //           this.state.current\n  //         }`\n  //       );\n  //       const movies = await res.json();\n  //       this.setState({\n  //         movies: movies.Search,\n  //         totalpages: parseInt(movies.totalResults)\n  //       });\n  //     } catch (e) {\n  //       console.log(e);\n  //     }\n  //   }\n\n\n  render() {\n    const _this$state = this.state,\n          current = _this$state.current,\n          totalpages = _this$state.totalpages;\n    const _this$props = this.props,\n          movies = _this$props.movies,\n          error = _this$props.error;\n    console.log(this.props);\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(MovieContainer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, movies && movies > 0 ? movies.map((movie, id) => React.createElement(Movie, {\n      key: id,\n      details: movie,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    })) : \"\"), React.createElement(Row, {\n      className: \"justify-content-md-center\",\n      style: {\n        justifyContent: \"center\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, totalpages && totalpages > 10 ? React.createElement(Pagination, {\n      onChange: this.onChange,\n      current: current,\n      total: totalpages,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }) : React.createElement(OopsContainer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: require(\"./oops.jpg\"),\n      alt: \"error\",\n      width: \"300\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }), React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, error))));\n  }\n\n}\n\nfunction mapStateToProps(state) {\n  console.log(state);\n  return {\n    movies: state.movies,\n    error: state.error\n  };\n}\n\nexport default connect(mapStateToProps, {\n  searchMovies\n})(MovieList);\nconst MovieContainer = styled(Row)(_templateObject());","map":{"version":3,"sources":["/home/vigneshraja/Desktop/movie_app/src/MovieList.js"],"names":["React","Component","connect","styled","Pagination","Row","Col","searchMovies","Movie","OopsContainer","MovieList","state","movies","current","onChange","page","console","log","setState","initialloading","componentWillMount","props","res","fetch","json","Search","totalpages","parseInt","totalResults","e","render","error","map","movie","id","justifyContent","require","mapStateToProps","MovieContainer"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport styled from \"styled-components\";\nimport Pagination from \"rc-pagination\";\nimport { Row, Col } from \"react-bootstrap\";\nimport \"rc-pagination/assets/index.css\";\nimport { searchMovies } from \"./redux/action\";\nimport Movie from \"./Movie\";\nimport OopsContainer from \"./MovieDetail\";\n\nclass MovieList extends Component {\n  state = {\n    movies: [],\n    current: 1\n  };\n\n  onChange = page => {\n    console.log(page);\n    this.setState(\n      {\n        current: page\n      },\n      () => this.initialloading()\n    );\n  };\n\n  componentWillMount() {\n    console.log(this.props);\n  }\n  async initialloading() {\n    try {\n      const res = await fetch(\n        `http://www.omdbapi.com/?i=tt3896198&apikey=fa281222&s=Batman&page=${\n          this.state.current\n        }`\n      );\n      const movies = await res.json();\n      this.setState({\n        movies: movies.Search,\n        totalpages: parseInt(movies.totalResults)\n      });\n    } catch (e) {\n      console.log(e);\n    }\n  }\n\n  //   async componentDidMount() {\n  //     try {\n  //       const res = await fetch(\n  //         `http://www.omdbapi.com/?i=tt3896198&apikey=fa281222&s=Batman&page=${\n  //           this.state.current\n  //         }`\n  //       );\n  //       const movies = await res.json();\n  //       this.setState({\n  //         movies: movies.Search,\n  //         totalpages: parseInt(movies.totalResults)\n  //       });\n  //     } catch (e) {\n  //       console.log(e);\n  //     }\n  //   }\n\n  render() {\n    const { current, totalpages } = this.state;\n    const { movies, error } = this.props;\n    console.log(this.props);\n    return (\n      <div>\n        <MovieContainer>\n          {movies && movies > 0\n            ? movies.map((movie, id) => <Movie key={id} details={movie} />)\n            : \"\"}\n        </MovieContainer>\n        <Row\n          className=\"justify-content-md-center\"\n          style={{ justifyContent: \"center\" }}\n        >\n          {totalpages && totalpages > 10 ? (\n            <Pagination\n              onChange={this.onChange}\n              current={current}\n              total={totalpages}\n            />\n          ) : (\n            <OopsContainer>\n              <img src={require(\"./oops.jpg\")} alt=\"error\" width=\"300\" />\n              <h2>{error}</h2>\n            </OopsContainer>\n          )}\n        </Row>\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  console.log(state);\n  return { movies: state.movies, error: state.error };\n}\n\nexport default connect(\n  mapStateToProps,\n  { searchMovies }\n)(MovieList);\n\nconst MovieContainer = styled(Row)`\n  padding: 0 3rem;\n  margin: 0 auto;\n  justify-content: center;\n`;\n"]},"metadata":{},"sourceType":"module"}